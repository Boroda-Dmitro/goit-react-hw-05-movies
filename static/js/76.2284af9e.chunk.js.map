{"version":3,"file":"static/js/76.2284af9e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/MovieDetails/MovieDetails.module.css?f582","Pages/MovieDetails/MovieDetails.jsx","Services/fetchMovies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie_box\":\"MovieDetails_movie_box__tbZdh\",\"info_box\":\"MovieDetails_info_box__WPhK-\",\"button\":\"MovieDetails_button__9VA3h\",\"additional\":\"MovieDetails_additional__LCjDA\",\"additional_list\":\"MovieDetails_additional_list__1U7tR\"};","import { fetchMovieById } from 'Services/fetchMovies';\nimport { Loader } from 'components/Loader/Loader';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Outlet } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst IMAGES_BASE_URL = 'https://image.tmdb.org/t/p/w200/';\nlet genres = '';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLocation = useRef(location.state?.from ?? '/movies');\n  const [error, setError] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    const getMovie = async () => {\n      try {\n        const movieInfo = await fetchMovieById(movieId);\n        genres = movieInfo.data.genres.map(genre => genre.name).join(' ');\n        setMovie(movieInfo.data);\n      } catch (error) {\n        if (error.response && error.response.status === 404) {\n          setError(true);\n          console.log(error);\n        } else {\n          setError(true);\n          console.log(error);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getMovie();\n  }, [movieId]);\n\n  const releaseYear = new Date(movie.release_date).getFullYear();\n  const userScore = Math.floor(movie.vote_average * 10);\n\n  return (\n    <div>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div>\n          <Link to={backLocation.current} className={css.button}>\n            Go back\n          </Link>\n          {error ? (\n            <h2>No information for this movie</h2>\n          ) : (\n            <>\n              <div className={css.movie_box}>\n                <div className={css.img_box}>\n                  <img\n                    src={IMAGES_BASE_URL + movie.poster_path}\n                    alt={movie.title}\n                  />\n                </div>\n                <div className={css.info_box}>\n                  <h2>\n                    {movie.title} ({releaseYear})\n                  </h2>\n                  <p>User Score: {userScore} %</p>\n                  <h3>Overview</h3>\n                  <p>{movie.overview}</p>\n                  <h4>Genres</h4>\n                  <p>{genres}</p>\n                </div>\n              </div>\n              <div className={css.additional}>\n                <h4>Additional information</h4>\n                <ul className={css.additional_list}>\n                  <li>\n                    <Link to=\"cast\">Cast</Link>\n                  </li>\n                  <li>\n                    <Link to=\"reviews\">Reviews</Link>\n                  </li>\n                </ul>\n              </div>\n\n              <Suspense fallback={<Loader />}>\n                <Outlet />\n              </Suspense>\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nexport const fetchTrendingMovies = async () => {\n  const URL = 'https://api.themoviedb.org/3/trending/all/day';\n  const KEY = 'efcd079eaa7382b8a49b8fa3c0261e85';\n\n  const options = new URLSearchParams({\n    api_key: KEY,\n  });\n  try {\n    const TrendingMovies = await axios.get(`${URL}?${options}`);\n    return TrendingMovies.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n\nexport const fetchMovieById = async (id) => {\n  const URL = `https://api.themoviedb.org/3/movie/${id}`;\n  const KEY = 'efcd079eaa7382b8a49b8fa3c0261e85';\n\n  const options = new URLSearchParams({\n    api_key: KEY,\n  });\n\n  try {\n    const movie = await axios.get(`${URL}?${options}`);\n    return movie;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n\n\nexport const fetchMovieCast = async (id) => {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/credits`;\n  const KEY = 'efcd079eaa7382b8a49b8fa3c0261e85';\n\n  const options = new URLSearchParams({\n    api_key: KEY,\n  });\n\n  try {\n    const movie = await axios.get(`${URL}?${options}`);\n    return movie.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieReviews = async (id) => {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/reviews`;\n  const KEY = 'efcd079eaa7382b8a49b8fa3c0261e85';\n\n  const options = new URLSearchParams({\n    api_key: KEY,\n  });\n\n  try {\n    const movie = await axios.get(`${URL}?${options}`);\n    return movie.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchSearchMovies = async search => {\n  const URL = `https://api.themoviedb.org/3/search/movie`;\n  const KEY = 'efcd079eaa7382b8a49b8fa3c0261e85';\n\n  const options = new URLSearchParams({\n    api_key: KEY,\n    query: search,\n  });\n\n  try {\n    const movie = await axios.get(`${URL}?${options}`);\n    return movie.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n"],"names":["genres","useState","movie","setMovie","movieId","useParams","location","useLocation","backLocation","useRef","state","from","error","setError","isLoading","setLoading","useEffect","getMovie","fetchMovieById","movieInfo","data","map","genre","name","join","response","status","console","log","releaseYear","Date","release_date","getFullYear","userScore","Math","floor","vote_average","Loader","to","current","className","css","src","poster_path","alt","title","overview","Suspense","fallback","fetchTrendingMovies","options","URLSearchParams","api_key","axios","TrendingMovies","results","id","URL","fetchMovieCast","fetchMovieReviews","fetchSearchMovies","search","query"],"sourceRoot":""}